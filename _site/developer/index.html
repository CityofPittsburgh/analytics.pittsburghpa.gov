<!DOCTYPE html>
<html lang="en">
  <!-- Initalize title and data source variables -->
  
  <head>
  <!--

    Hi! Welcome to our source code.

    This dashboard uses data from the Digital Analytics Program, a US
    government team inside the General Services Administration.


    For a detailed tech breakdown of how 18F and friends built this site:

    https://18f.gsa.gov/2015/03/19/how-we-built-analytics-usa-gov/


    This is a fully open source project, and your contributions are welcome.

    Frontend static site: https://github.com/18F/analytics.usa.gov
    Backend data reporting: https://github.com/18F/analytics-reporter

    -->

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta name="google-site-verification" content="NjbZn6hQe7OwV-nTsa6nLmtrOUcSGPRyFjxm5zkmCcg" />

    <link rel="stylesheet" href="/css/vendor/css/uswds.v0.9.6.css">
    <link rel="stylesheet" href="/css/public_analytics.css">
    <link rel="icon" type="image/x-icon" href="/images/analytics-favicon.ico">

    <meta name="twitter:site" content="@PghIP">
    <meta name="twitter:creator" content="@PghIP">
    <meta property="og:type" content="website" />

    <meta property="og:url" content="http://localhost:4000" />
    <link rel="canonical" href="http://localhost:4000" />

    <title>analytics.pittsburghpa.gov | The Pittsburgh city government's web traffic.</title>
    <meta property="og:title" content="analytics.pittsburghpa.gov | The Pittsburgh city government's web traffic." />
    <meta property="og:site_name" content="analytics.pittsburghpa.gov | The Pittsburgh city government's web traffic." />

    <meta name="description" content="Official data on web traffic to city websites.">
    <meta property="og:description" content="Official data on web traffic to city websites." />

    <meta name="twitter:card" content="summary_large_image">
    <meta property="og:image" content="http://localhost:4000/images/share-image.png" />

    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MQSGZS');</script>
    <!-- End Google Tag Manager -->

    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-48605964-36', 'auto');
    ga('set', 'anonymizeIp', true);
    ga('set', 'forceSSL', true);
    ga('send', 'pageview');

  </script>

    <!--[if lte IE 9]>
    <script src="/js/vendor/aight.v2.min.js"></script>
    <![endif]-->

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="/css/google-fonts.css" rel="stylesheet" />
</head>


  <body>
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MQSGZS"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

    <header>
        <div class="inner clearfix">
            <h1>
              <a href="/" class="external-link">
                <strong>analytics</strong>.pittsburghpa.gov
              </a>
            </h1>
            <ul class="links">
              <li><a href="#explanation">About <span class="sm-hide">this site</span></a></li>
              <li><a href="http://localhost:4000/data/">Data</a></li>
            </ul>
        </div>
    </header>
    <div class="container">

      


      <section class="width-two-thirds">
<!-- Alpha status alert -->
<div class="usa-alert usa-alert-warning" id="site-wide-alert" role="alert">
   <div class="usa-alert-body">
     <h3 class="usa-alert-heading">
       This project is in BETA
     </h3>
     <p class="usa-alert-text">
       This API is under active development, and breaking changes may be made without warning.
       Have feedback or questions? <a href="https://github.com/18F/analytics.usa.gov/issues">Please let us know</a>!

       Please note we have recently updated to `v1.1`, please update your requests accordingly.
     </p>
   </div>
 </div>
<!-- end Alpha status alert -->

<h1 id="the-analyticsusagov-api">The analytics.usa.gov API</h1>

<p>In addition to being published and available for download, the data generated for this site is also available via an API.</p>

<p><strong>Please note we have recently updated to <code class="highlighter-rouge">v1.1</code>, please update your requests accordingly.</strong></p>

<p>The URL for the API is <code class="highlighter-rouge">https://api.gsa.gov/analytics/dap/v1.1</code>, and it exposes 3 routes to query data:</p>

<ul>
  <li><code class="highlighter-rouge">/reports/&lt;report name&gt;/data</code></li>
  <li><code class="highlighter-rouge">/agencies/&lt;agency name&gt;/reports/&lt;report name&gt;/data</code></li>
  <li><code class="highlighter-rouge">/domain/&lt;domain&gt;/reports/&lt;report name&gt;/data</code></li>
</ul>

<h2 id="api-keys">API Keys</h2>

<p>To use the API, please register for an API key below and include it in your query in this fashion:</p>

<ul>
  <li><code class="highlighter-rouge">https://api.gsa.gov/analytics/dap/v1.1/reports/download/data?api_key=DEMO_KEY1</code></li>
</ul>

<div id="apidatagov_signup">Loading signup form...</div>
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var apiUmbrellaSignupOptions = {
    // Pick a short, unique name to identify your site, like 'gsa-auctions'
    // in this example.
    registrationSource: 'gsa-dap-api',

    // Enter the API key you signed up for and specially configured for this
    // API key signup embed form.
    apiKey: 'LQekm6CxhGGrjRGkBsZjJD4R0Rr8sKYRtX1ey4qX',

    // Provide an example URL you want to show to users after they signup.
    // This can be any API endpoint on your server, and you can use the
    // special {{api_key}} variable to automatically substitute in the API
    // key the user just signed up for.
    exampleApiUrl: 'https://api.gsa.gov/analytics/dap/v1.1/reports/download/data?api_key={{api_key}}',

    // OPTIONAL: Provide extra content to display on the signup confirmation
    // page. This will be displayed below the user's API key and the example
    // API URL are shown. HTML is allowed. Defaults to ""
    // signupConfirmationMessage: '',

    // OPTIONAL: Provide a URL to your own contact page to link to for user
    // support. Defaults to "https://api.data.gov/contact/"
    contactUrl: 'https://github.com/18F/analytics.usa.gov/issues',

    // OPTIONAL: Set to true to verify the user's e-mail address by only
    // sending them their API key via e-mail, and not displaying it on the
    // signup confirmation web page. Defaults to false.
    // verifyEmail: true,

    // OPTIONAL: Set to false to disable sending a welcome e-mail to the
    // user after signing up. Defaults to true.
    // sendWelcomeEmail: false,

    // OPTIONAL: Provide the name of your developer site. This will appear
    // in the subject of the welcome e-mail as "Your {{siteName}} API key".
    // Defaults to "api.data.gov".
    // siteName: 'analytics.usa.gov',

    // OPTIONAL: Provide a custom sender name for who the welcome email
    // appears from. The actual address will be "noreply@api.data.gov", but
    // this will change the name of the displayed sender in this fashion:
    // "{{emailFromName}} <noreply@api.data.gov>". Defaults to "".
    emailFromName: 'analytics.usa.gov',

    // OPTIONAL: Provide an extra input field to ask for the user's website.
    // Defaults to false.
    // websiteInput: true,

    // OPTIONAL: Provide an extra checkbox asking the user to agree to terms
    // and conditions before signing up. Defaults to false.
    // termsCheckbox: true,

    // OPTIONAL: If the terms & conditions checkbox is enabled, link to this
    // URL for your API's terms & conditions. Defaults to "".
    // termsUrl: "https://agency.gov/api-terms/",
  };

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var apiUmbrella = document.createElement('script'); apiUmbrella.type = 'text/javascript'; apiUmbrella.async = true;
    apiUmbrella.src = 'https://api.data.gov/static/javascripts/signup_embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(apiUmbrella);
  })();
</script>

<noscript>Please enable JavaScript to signup for an <a href="http://api.data.gov/">api.data.gov</a> API key.</noscript>

<h2 id="the-response">The Response</h2>

<p>The response represents the rows in the <code class="highlighter-rouge">data</code> array in the JSON reports that can be downloaded, or the rows in the CSV files that can be downloaded. They are returned as an array of JSON objects. Here is an example of one such object:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "id": 60716,
  "report_name": "today",
  "report_agency": "justice",
  "date_time": "2017-04-07T14:00:00.000Z",
  "data": {
    "visits": "4240"
  },
  "created_at": "2017-04-07T04:23:55.792Z",
  "updated_at": "2017-04-07T04:23:55.792Z"
}
</code></pre></div></div>

<p>Note that is has the following properties:</p>

<ul>
  <li><code class="highlighter-rouge">id</code>: The primary key of the data point</li>
  <li><code class="highlighter-rouge">report_name</code>: The name of the data point’s report</li>
  <li><code class="highlighter-rouge">report_agency</code>: The name of the data point’s agency</li>
  <li><code class="highlighter-rouge">date_time</code>: The data/time the data in the data point corresponds to</li>
  <li><code class="highlighter-rouge">data</code>: The data associated with the data point. This may contain child properties such as visits, browser, screen size, and so on, depending on the report</li>
</ul>

<h2 id="querying-reports">Querying reports</h2>

<p>Reports can be queried by substituting <code class="highlighter-rouge">&lt;report name&gt;</code> in the path with the name of the report.</p>

<p>The following reports can be queried using the API:</p>

<ul>
  <li>download  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/reports/download/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>traffic-source  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/reports/traffic-source/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>device-model  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/reports/device-model/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>domain  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/reports/domain/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>site  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/reports/site/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>second-level-domain  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/reports/second-level-domain/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>language  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/reports/language/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>os-browser  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/reports/os-browser/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>windows-browser  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/reports/windows-browser/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>browser  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/reports/browser/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>windows-ie  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/reports/windows-ie/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>os  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/reports/os/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>windows  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/reports/windows/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>ie  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/reports/ie/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>device  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/reports/device/data?api_key=DEMO_KEY1">example</a>)</em></li>
</ul>

<h2 id="filtering-based-on-agencies">Filtering based on agencies</h2>

<p>Reports can be queried by substituting <code class="highlighter-rouge">&lt;agency name&gt;</code> in the path with the name of the agency. If the path without an agency name parameter is used, the reports correspond to government wide data.</p>

<p>The list of valid agency names includes:</p>

<ul>
  <li>agency-international-development  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/agencies/agency-international-development/reports/site/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>agriculture  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/agencies/agriculture/reports/site/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>commerce  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/agencies/commerce/reports/site/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>defense  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/agencies/defense/reports/site/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>education  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/agencies/education/reports/site/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>energy  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/agencies/energy/reports/site/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>environmental-protection-agency  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/agencies/environmental-protection-agency/reports/site/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>executive-office-president  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/agencies/executive-office-president/reports/site/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>general-services-administration  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/agencies/general-services-administration/reports/site/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>health-human-services  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/agencies/health-human-services/reports/site/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>homeland-security  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/agencies/homeland-security/reports/site/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>housing-urban-development  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/agencies/housing-urban-development/reports/site/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>interior  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/agencies/interior/reports/site/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>justice  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/agencies/justice/reports/site/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>labor  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/agencies/labor/reports/site/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>national-aeronautics-space-administration  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/agencies/national-aeronautics-space-administration/reports/site/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>national-archives-records-administration  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/agencies/national-archives-records-administration/reports/site/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>national-science-foundation  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/agencies/national-science-foundation/reports/site/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>nuclear-regulatory-commission  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/agencies/nuclear-regulatory-commission/reports/site/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>office-personnel-management  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/agencies/office-personnel-management/reports/site/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>postal-service  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/agencies/postal-service/reports/site/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>small-business-administration  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/agencies/small-business-administration/reports/site/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>social-security-administration  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/agencies/social-security-administration/reports/site/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>state  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/agencies/state/reports/site/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>transportation  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/agencies/transportation/reports/site/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>treasury  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/agencies/treasury/reports/site/data?api_key=DEMO_KEY1">example</a>)</em></li>
  <li>veterans-affairs  <em>(<a href="https://api.gsa.gov/analytics/dap/v1.1/agencies/veterans-affairs/reports/site/data?api_key=DEMO_KEY1">example</a>)</em></li>
</ul>

<h2 id="filtering-by-domain">Filtering by domain</h2>
<p>For the <code class="highlighter-rouge">site</code>, <code class="highlighter-rouge">domain</code>, <code class="highlighter-rouge">download</code>, and <code class="highlighter-rouge">second-level-domain</code> reports you may use the <code class="highlighter-rouge">domain</code> route, to only return results by domain.</p>

<h2 id="query-params">Query params</h2>

<p>The following query params are supported to work with the data:</p>

<ul>
  <li><code class="highlighter-rouge">limit</code>: Limit the number of data points that are rendered. The default is 1000 and the max is 10,000</li>
  <li><code class="highlighter-rouge">page</code>: Pages through the results. If the limit is set to <code class="highlighter-rouge">1000</code>, using <code class="highlighter-rouge">page=2</code> will render the 1001st through 2000th data point.</li>
  <li><code class="highlighter-rouge">after</code>: Limit the results to in dates on or after the date specified. Expects <code class="highlighter-rouge">YYYY-MM-DD</code>.</li>
  <li><code class="highlighter-rouge">before</code>: Limit the results to in dates on or before the date specified. Expects <code class="highlighter-rouge">YYYY-MM-DD</code>.</li>
</ul>

</section>


    </div>
    <div class="container">
      <section id="explanation" class="width-two-thirds">

          <h3>About this Site</h3>
          <p>
            This data provides a window into how people are interacting with the city government online.
             The data comes from a unified Google Analytics account for U.S. federal government agencies known as the <a href="https://www.digitalgov.gov/services/dap/" class="external-link">Digital Analytics Program</a>.
              This program helps government agencies understand how people find, access, and use government services online. The program <a href="https://www.digitalgov.gov/services/dap/common-questions-about-dap-faq/#part-4" class="external-link">does not track individuals</a>,
               and <a href="https://support.google.com/analytics/answer/2763052?hl=en" class="external-link">anonymizes the IP addresses</a> of visitors.
          </p>

          <p>
            Not every government website is represented in this data. 
            Currently, the Digital Analytics Program collects web traffic from around <a href="https://analytics.usa.gov/data/live/second-level-domains.csv" class="external-link">400 executive branch government domains</a>,
             across <a href="https://analytics.usa.gov/data/live/sites.csv" class="external-link">about 5,700 total websites</a>,
              including every cabinet department.
               We continue to pursue and add more sites frequently; to add your site, <a href="mailto:DAP@support.digitalgov.gov" class="external-link">email the Digital Analytics Program</a>.
          </p>


      </section>
      <section class="width-one-third">
        <h3>Download the data</h3>
        <p>You can <a href="http://localhost:4000/data/">download the data here.</a> Available in JSON and CSV format.</p>
        <p> Additionally, you can access data via our <a href="https://analytics.usa.gov/developer"> API project</a> (currently in Beta).</p>
      </section>
</div>
<footer>
  <div class="footer-section-top">
    <div class="usa-grid">
          <div class="usa-width-one-half">
            <p>Have a question or problem? 
              <a href="mailto:DAP@support.digitalgov.gov">
              Get in touch</a>.
              </p>
              <a class="usa-button usa-button-secondary-inverse"
              href="https://github.com/CityofPittsburgh/analytics.pittsburghpa.gov/issues">
              <img src="/images/github-logo-white.svg" class="github-icon" alt="Github Icon">
                  Suggest a feature or report an issue
            </a>
            </p>
          </div>
          <div class="usa-width-one-half">
            <p><a href="https://github.com/CityofPittsburgh/analytics.pittsburghpa.gov">
              <img src="/images/github-logo.svg" class="github-icon" alt="Github Icon">
              View our code on GitHub</a></p>
            <p><a href="https://github.com/CityofPittsburgh/analytics-reporter">
              <img src="/images/github-logo.svg" class="github-icon" alt="Github Icon">
              View our code for the data on GitHub</a></p>
          </div>
    </div>
  </div>
  <div class="footer-section-bottom">
    <div class="usa-grid">
      <div class="logo-links">
        <a href="http://www.gsa.gov/">
          <img src="/images/gsa-logo.svg" alt="GSA">
        </a>
      </div>
      <p>Analytics.pittsburghpa.gov is based on a project of GSA’s <a href="https://www.digitalgov.gov/services/dap/">Digital Analytics Program</a>.</p>
    </div>
  </div>
</footer>


  </body>

    <!--
    IE detection, used to guide console formatting in subsequent include.
  -->
  <script type="text/javascript">window._ie9 = false;</script>

  <!--[if IE 9 ]>
    <script type="text/javascript">window._ie9 = true;</script>
  <![endif]-->

  <!--
   IE10 JS targeting: https://stackoverflow.com/a/17099988
   IE11 JS targeting: https://stackoverflow.com/a/17447695
  -->
  <script type="text/javascript">
    window._ie10 = ("onpropertychange" in document && !!window.matchMedia);
    window._ie11 = !!navigator.userAgent.match(/Trident\/7.0; rv 11/);
    window._ie = window._ie9 || window._ie10 || window._ie11;
  </script>

  <script src="/assets/bundle.js"></script>


</html>
